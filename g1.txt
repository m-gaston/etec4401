grammar g1;
WHITESPACE : (' '|'\t'|'\n'|'\r')+ -> skip ;
COMMENT: ('//'(~[\n])*|'/'.?'*/') -> skip ;
SEMI: ';' ;
WHILE: 'while' ;
LP: '(' ;
RP: ')' ;
IF: 'if' ;
ELSE: 'else' ;
RETURN: 'return' ;
LBR: '{' ;
RBR: '}' ;
NUM: [0-9]+ ;

program: braceblock ;
stmts: stmt stmts | ;
stmt: cond | loop | returnStmt SEMI ;
cond: IF LP expr RP braceblock | IF LP expr RP braceblock ELSE braceblock ;
loop: WHILE LP expr RP braceblock ;
braceblock: LBR stmts RBR ;
expr: NUM ;
returnStmt: RETURN expr ;
